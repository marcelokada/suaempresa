<script type="text/javascript">
  jQuery(function ($) {
    $("#cpf").mask("999.999.999-99");
  });

  function somenteNumeros(num) {
    var er = /[^0-9]/;
    er.lastIndex = 0;
    var campo = num;
    if (er.test(campo.value)) {
      campo.value = "";
    }
  }

  $(document).ready(function () {
    $('#showPassword').on('click', function () {

      var passwordField = $('#senha_atual');
      var passwordFieldType = passwordField.attr('type');
      if (passwordFieldType == 'senha_atual') {
        passwordField.attr('type', 'password');
        $(this).val('Hide');
      } else {
        passwordField.attr('type', 'senha_atual');
        $(this).val('Show');
      }
    });
  });

  function mostrar1() {

    var passwordField = $('#nova_senha');
    var passwordFieldType = passwordField.attr('type');
    if (passwordFieldType == 'nova_senha') {
      passwordField.attr('type', 'password');
      $(this).val('Hide');
    } else {
      passwordField.attr('type', 'nova_senha');
      $(this).val('Show');
    }
  };


  function mostrar2() {

    var passwordField = $('#nova_senha1');
    var passwordFieldType = passwordField.attr('type');
    if (passwordFieldType == 'nova_senha1') {
      passwordField.attr('type', 'password');
      $(this).val('Hide');
    } else {
      passwordField.attr('type', 'nova_senha1');
      $(this).val('Show');
    }
  };

  function mostrar3() {

    var passwordField = $('#senha_atual');

    var passwordFieldType = passwordField.attr('type');
    if (passwordFieldType == 'senha_atual') {
      passwordField.attr('type', 'password');
      $(this).val('Hide');
    } else {
      passwordField.attr('type', 'senha_atual');
      $(this).val('Show');
    }
  };

  function myFocusFunction() {
    var id = $('#nova_senha').val();
    var id2 = $('#nova_senha1').val();

    var idl1 = id.length;
    var idl2 = id2.length;


    if (id != id2) {
      $("#resultado").html('Senhas estão diferentes.');
      $("#exampleModal").modal();
    } else if (idl1 < 8) {
      $("#resultado").html('Quantidade caracteres insuficientes - mínimo 8(oito).');
      $("#exampleModal").modal();
    } else if (idl2 < 8) {
      $("#resultado").html('Quantidade caracteres insuficientes - mínimo 8(oito).');
      $("#exampleModal").modal();
    }
  }

  function senha1() {
    var id = $('#nova_senha').val();

    var idl1 = id.length;

    if (idl1 < 8) {
      $("#resultado").html('Quantidade caracteres insuficientes - mínimo 8(oito)');
      $("#exampleModal").modal();
    } else if (idl1 == null) {

    }
  }

  function habilitar() {
    if (document.getElementById('senhas').checked) {
      document.getElementById('nova_senha').disabled = false;
      document.getElementById('nova_senha1').disabled = false;
      $('#se').val('on');
    } else {
      document.getElementById('nova_senha').disabled = true;
      document.getElementById('nova_senha1').disabled = true;
      $('#nova_senha,#nova_senha1').val('');
      $('#se').val('off');
    }
  }

  function abrirmodalsenha() {
    $('#staticBackdrop').modal();
  }


  function limpa_formulário_cep() {
    //Limpa valores do formulário de cep.
    document.getElementById('rua').value = ("");
    document.getElementById('bairro').value = ("");
    document.getElementById('cidade').value = ("");
    document.getElementById('uf').value = ("");
    document.getElementById('ibge').value = ("");
  }

  function meu_callback(conteudo) {
    if (!("erro" in conteudo)) {
      //Atualiza os campos com os valores.
      document.getElementById('rua').value = (conteudo.logradouro);
      document.getElementById('bairro').value = (conteudo.bairro);
      document.getElementById('cidade').value = (conteudo.localidade);
      document.getElementById('uf').value = (conteudo.uf);
      document.getElementById('ibge').value = (conteudo.ibge);
    } //end if.
    else {
      //CEP não Encontrado.
      limpa_formulário_cep();
      alert("CEP não encontrado.");
    }
  }


  function verificaCep() {
    var cep = $('#cep').val();

    var script = document.createElement('script');

    //Sincroniza com o callback.
    script.src = 'https://viacep.com.br/ws/' + cep + '/json/?callback=meu_callback';

    //Insere script no documento e carrega o conteúdo.
    document.body.appendChild(script);

    document.getElementById('rua').value = (conteudo.logradouro);
    document.getElementById('bairro').value = (conteudo.bairro);
    document.getElementById('cidade').value = (conteudo.localidade);
    document.getElementById('uf').value = (conteudo.uf);
    document.getElementById('ibge').value = (conteudo.ibge);

  }
</script>

<form method="post" action="" enctype="multipart/form-data" name="form2" id="form2">
  <input type="hidden" id="idsessao" name="idsessao" value="{ID_SESSAO}"/>
  <input type="hidden" id="idcart" name="idcart" value="{IDCART}"/>
  <input type="hidden" id="idloja" name="idloja" value="{ID_CRED}">
  <input type="hidden" id="idusua" name="idusua" value="{IDUSUA}"/>
  <input type="hidden" id="tempo" name="tempo" value="{TEMPO}">
  <input type="hidden" id="idusu" name="idusu" value="{IDUSUA}">
  <input type="hidden" id="idplano" name="idplano" value="{IDPLANO}">
  <input type="hidden" id="valor" name="valor" value="{VALOR}">
</form>



<main id="main">
  <!-- ======= Breadcrumbs ======= -->
  <section class="breadcrumbs">
    <div class="container">
      <div class="row align-items-end">
        <div class="col-4">
          <ol>
            <li><a href="index.php?idSessao={ID_SESSAO}">Home</a></li>
            <li>Confirgurações</li>
          </ol>
          <h2>Confirgurações</h2>
        </div>
      </div>
    </div>
  </section><!-- End Breadcrumbs -->


  <form method="post">

    <section id="contact" class="contact">
      <div class="container" data-aos="fade-up">

        <div class="msg container">
          <!-- BEGIN ERRO -->
          <section class="about-us-section-rede">
          </section>
          <div class="alert alert-danger" role="alert">
            <p align="justify">{MSG}</p>
          </div>
          <!-- END ERRO -->

          <!-- BEGIN SUCESSO -->
          <section class="about-us-section-rede">
          </section>
          <div class="alert alert-success" role="alert">
            <p align="justify">{MSG}</p>
          </div>
          <!-- END SUCESSO -->
        </div>

        <div class="section-title">
          <h2>CONFIGURAÇÕES DO USUÁRIO</h2>
        </div>

        <div class="row" data-aos="fade-up" data-aos-delay="100">

          <div class="col-lg-6">
            <h4>Informações do usuários</h4>

            <div class="mb-3">
              <label>ID USUÁRIO:</label>
              <input type="text" class="form-control" name="seq" id="seq" value="{SEQ}" readonly>
            </div>

            <div class="mb-3">
              <label>NOME:</label>
              <input type="text" class="form-control" name="nome" id="nome" value="{NOME}">
            </div>

            <div class="mb-3">
              <label>E-MAIL:</label>
              <input type="email" class="form-control" name="mail" id="mail" value="{EMAI}">
            </div>

            <div class="mb-3">
              <label>CPF:(somente números)</label>
              <input type="text" class="cpf form-control" maxlength="11" name="cpf" id="cpf" onkeyup="somenteNumeros(this);" value="{CCPF}">
            </div>

            <div class="mb-3">
              <label>CELULAR:</label>
              <input type="text" class="form-control" name="phone" id="phone" value="{CELU}" required data-validation-required-message="Preencher o numero do celular">
            </div>

            <div class="mb-3">
              <label>DATA DE NASCIMENTO:</label>
              <input type="date" class="form-control" name="dtnasc" id="dtnasc" value="{NASC}" required>
            </div>

            <div class="mb-3">
              <label>CEP: (apenas números)</label>
              <input type="text" class="form-control" name="cep" id="cep" maxlength="8" onkeyup="somenteNumeros(this);" onblur="verificaCep();" value="{CEP}">
            </div>

            <div class="mb-3">
              <label>ENDEREÇO:</label>
              <input type="text" class="form-control" name="rua" id="rua" value="{RUA}" required>
            </div>

            <div class="mb-3">
              <label>Número:</label>
              <input type="text" class="form-control" name="nume" id="nume" value="{NUM}" required>
            </div>

            <div class="mb-3">
              <label>Bairro:</label>
              <input type="text" class="form-control" name="bairro" id="bairro" value="{BAIRRO}" required>
            </div>

            <div class="mb-3">
              <label>Cidade:</label>
              <input type="text" class="form-control" name="cidade" id="cidade" value="{CIDADE}" required>
              <input type="hidden" class="form-control" name="ibge" id="ibge" value="{IBGE}">
            </div>

            <div class="mb-3">
              <label>Estado:</label>
              <input type="text" class="form-control" name="uf" id="uf" value="{UF}">
            </div>
          </div>

          <div class="col-lg-6">
            <h4><input type="checkbox" name="senhas" id="senhas" onclick="habilitar()" value=""> Alteração da senha</h4>

            <div class="mb-3">
              <label>NOVA SENHA: (<i>mínimo de 8 caracteres</i>)</label>
              <div class="input-group">
                <input type="password" class="adulto form-control" name="nova_senha" id="nova_senha" {SENHA} onblur="senha1();" disabled>
                <span class="input-group-text" id="basic-addon1"><button type="button" class="btn btn-default" id="showPassword1" onclick="mostrar1();">
                        <i class="bx bx-low-vision"></i></button>
                </span>
              </div>
            </div>

            <div class="mb-3">
              <label>CONFIRME A NOVA SENHA: (<i>mínimo de 8 caracteres</i></label>
              <div class="input-group">
                <input type="password" class="form-control" name="nova_senha1" id="nova_senha1" {SENHA} onblur="myFocusFunction();" disabled>
                <span class="input-group-text" id="basic-addon2">
                  <button type="button" class="btn btn-default" id="showPassword2" onclick="mostrar2();">
                        <i class="bx bx-low-vision"></i></button>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Contact Section -->

    <!-- Start About Us Section -->
    <section >
      <div class="container">
        <div class="row">
          <div class="col-md-12 col-sm-12">
            <div class="section-title text-center">
              <h3></h3>
              <p></p>

              <div class="row">
                <div class="col-md-6">



                </div>

                <div class="col-md-6">


                </div>

                <div class="clearfix"></div>
                <div class="col-lg-12 text-center">
                  <div id="success"></div>
                  <button type="button" class="btn btn-primary" onclick="abrirmodalsenha();">
                    ALTERAR
                  </button>
                </div>
              </div>
            </div><!-- divo anes dos conteudos-->
          </div><!-- col-md-12 col-sm-12-->
        </div><!-- class="row" -->
      </div><!-- /.container -->
    </section>
    </div>

    <input type="hidden" name="se" id="se" value="">

    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Confirme a sua senha!</h5>
          </div>
          <div class="modal-header">
            <div class="form-group" align="left">
              <label>Senha Atual:</label>
              <div class="input-group">
                <input type="password" class="form-control" name="senha_atual" id="senha_atual" required>
                <span class="input-group-btn">
				<button type="button" class="btn btn-default" id="showPassword" onclick="mostrar3();"><i class="fa fa-eye"></i></button>
			</span>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">FECHAR</button>
            <input type="submit" class="btn btn-primary" name="alterar" value="ALTERAR">
          </div>
        </div>
      </div>
    </div>


    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">

            <h5 class="modal-title" id="exampleModalLabel">Atenção</h5>
          </div>
          <div class="modal-header">
            <div id="resultado"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
          </div>
        </div>
      </div>

  </form>